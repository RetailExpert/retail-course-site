<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Lesson 3: Advanced Selling Techniques | Ultimate Black Book</title>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800;900&display=swap" rel="stylesheet">
  <style>
    body { font-family: 'Inter', sans-serif; margin: 0; padding: 0; background: #000000; color: #F5F5F5; line-height: 1.7; }
    header { background: linear-gradient(135deg, #000000 0%, #1a1a1a 100%); color: white; padding: 25px 40px; display: flex; justify-content: space-between; align-items: center; box-shadow: 0 4px 20px rgba(255, 215, 0, 0.2); border-bottom: 3px solid #FFD700;}
    header h1 { margin: 0; font-size: 24px; font-weight: 900; color:_queries not needed. You have the full updated file content already.

    nav a { color: #FFD700; margin-left: 25px; text-decoration: none; font-weight: 600; transition: opacity 0.3s ease; }
    nav a:hover { opacity: 0.7; }
    .container { max-width: 1200px; margin: auto; padding: 50px 20px; background: #0a0a0a; border-radius: 20px; margin-top: 20px; box-shadow: 0 20px 60px rgba(255, 215, 0, 0.1); }
    #progressBarContainer { margin: 30px auto 40px auto; max-width: 500px; }
    #progressBarContainer .progress-outer { background:#1a1a1a; border-radius:8px; overflow:hidden; height:16px; border: 2px solid #FFD700; }
    #progressBarFill { height:100%; width:0; background:linear-gradient(90deg,#FFD700,#FFA500); transition:width 0.7s; box-shadow: 0 0 10px rgba(255, 215, 0, 0.5); }
    #progressText { text-align:center; font-size:1.1em; margin-top:10px; color:#FFD700; font-weight:800; text-shadow: 0 0 5px rgba(255, 215, 0, 0.3); }
    .hero { background: linear-gradient(135deg, #1a1a1a 0%, #2d2d2d 100%); padding: 50px 40px; border-radius: 20px; margin-bottom: 40px; border: 3px solid #FFD700; position: relative; overflow: hidden; }
    .hero::before { content: ''; position: absolute; top: 0; right: 0; width: 300px; height: 300px; background: radial-gradient(circle, rgba(255, 215, 0, 0.1) 0%, transparent 70%); }
    .hero h2 { color: #FFD700; font-size: 2.8em; margin-bottom: 20px; font-weight: 900; text-shadow: 0 0 15px rgba(255, 215, 0, 0.4); position: relative; z-index: 1; }
    .hero p { font-size: 1.3em; color: #F5F5F5; line-height: 1.8; position: relative; z-index: 1; }
    h3 { margin-top: 50px; color: #FFD700; font-size: 2em; font-weight: 800; text-shadow: 0 0 10px rgba(255, 215, 0, 0.3); border-bottom: 3px solid #FFD700; padding-bottom: 10px; }
    .section { margin-bottom: 50px; background: #1a1a1a; padding: 40px; border-radius: 15px; border: 2px solid rgba(255, 215, 0, 0.3); }
    .section-icon { font-weight: 900; color: #FFD700; margin-right: 15px; font-size: 1.3em; text-shadow: 0 0 8px rgba(255, 215, 0, 0.4); }
    .golden-box { background: linear-gradient(135deg, rgba(255, 215, 0, 0.1) 0%, rgba(255, 165, 0, 0.1) 100%); padding: 25px 30px; border-radius: 12px; margin: 25px 0; border-left: 5px solid #FFD700; box-shadow: 0 5px 20px rgba(255, 215, 0, 0.1); }
    .golden-box h4 { color: #FFD700; font-size: 1.3em; margin-bottom: 15px; font-weight: 800; }
    .fun-fact { background: linear-gradient(135deg, rgba(199, 249, 204, 0.15) 0%, rgba(147, 250, 165, 0.15) 100%); color: #F5F5F5; font-weight: 600; padding: 20px 25px; border-radius: 12px; margin: 25px 0; border-left: 5px solid #48bb78; }
    .case-study { background: linear-gradient(135deg, #1a1a1a 0%, #2d2d2d 100%); color: #F5F5F5; padding: 30px; border-radius: 15px; margin: 25px 0; border: 3px solid #FFD700; }
    .expert-tip { background: linear-gradient(135deg, rgba(224, 195, 252, 0.1) 0%, rgba(189, 147, 249, 0.1) 100%); color: #F5F5F5; font-weight: 500; padding: 20px 25px; border-radius: 12px; margin: 20px 0; border-left: 5px solid #9f7aea; }
    .activity { background: linear-gradient(135deg, rgba(255, 251, 231, 0.1) 0%, rgba(255, 237, 160, 0.1) 100%); color: #F5F5F5; font-weight: 500; padding: 20px 25px; border-radius: 12px; margin: 20px 0; border-left: 5px solid #ecc94b; }
    ul { margin: 20px 0 20px 25px; }
    li { margin: 12px 0; color: #E0E0E0; font-size: 1.05em; line-height: 1.8; }
    li strong { color: #FFD700; font-weight: 700; }
    .quiz-section { background: linear-gradient(135deg, #FFD700 0%, #FFA500 100%); padding: 40px 35px; border-radius: 20px; margin: 50px 0; color: #000; box-shadow: 0 15px 50px rgba(255, 215, 0, 0.3); }
    .quiz-section h3 { color: #000; margin-top: 0; text-shadow: none; border-bottom: 3px solid #000; }
    .quiz-question { margin: 25px 0; background: rgba(0, 0, 0, 0.1); padding: 20px; border-radius: 10px; }
    .quiz-question b { display: block; margin-bottom: 12px; font-size: 1.1em; }
    .quiz-options label { display: block; margin: 10px 0; cursor: pointer; padding: 10px; background: rgba(255, 255, 255, 0.3); border-radius: 8px; transition: background 0.3s; }
    .quiz-options label:hover { background: rgba(255, 255, 255, 0.5); }
    #lesson-completion { margin: 50px 0 30px 0; text-align: center; }
    #completionMsg { margin: 25px auto 0 auto; max-width: 500px; font-size: 1.2em; color: #48bb78; font-weight: 700; display: none; background: rgba(72, 187, 120, 0.1); padding: 20px; border-radius: 12px; border: 2px solid #48bb78; }
    .btn { display: inline-block; background: linear-gradient(135deg, #FFD700 0%, #FFA500 100%); color: #000; padding: 20px 50px; text-decoration: none; border-radius: 50px; margin: 15px 10px; font-weight: 900; font-size: 1.2em; transition: transform 0.3s, box-shadow 0.3s; box-shadow: 0 8px 30px rgba(255, 215, 0, 0.4); border: none; cursor: pointer; text-transform: uppercase; }
    .btn:hover { transform: translateY(-3px); box-shadow: 0 12px 40px rgba(255, 215, 0, 0.6); }
    .dashboard-link { text-align: center; margin: 40px 0; }
    .dashboard-link a { color: #FFD700; font-weight: 600; text-decoration: underline; font-size: 1.1em; }
    .emoji { font-size: 1.5em; vertical-align: middle; }
    @media (max-width: 768px) {
      header h1 { font-size: 18px; }
      .hero h2 { font-size: 2em; }
      h3 { font-size: 1.5em; }
    }
  </style>
</head>
<body>
  <header>
    <h1>âš« THE ULTIMATE BLACK BOOK âš«</h1>
    <nav class="lesson-nav">
      <a href="course.html">Home</a>
      <a href="course.html#contact">Contact</a>
      <a href="course.html#progress">View Progress</a>
    </nav>
  </header>

  <div class="container">
    <div id="progressBarContainer">
      <div class="progress-outer">
        <div id="progressBarFill"></div>
      </div>
      <div id="progressText">Lesson 3 of 8</div>
    </div>

    <div class="hero">
      <h2>ðŸ’Ž Lesson 3: Advanced Selling Techniques</h2>
      <p>
        Go beyond basics. Master the art and science of sales with psychology-based frameworks, powerful questioning, expert-level objection handling, and closing strategies. Become the trusted advisor customers love to buy from.
      </p>
    </div>

    <!-- CONTENT OMITTED FOR BREVITY (keep your exact content here unchanged) -->

    <div class="quiz-section">
      <h3>ðŸŽ¯ Advanced Selling Mastery Quiz</h3>
      <form id="quiz3">
        <!-- keep your quiz HTML unchanged -->
        <button type="button" class="btn" onclick="gradeQuiz3()" style="margin-top: 25px; background: #000; color: #FFD700; border: 3px solid #FFD700;">Submit Quiz</button>
      </form>
      <div id="quiz3-result" style="font-weight: bold; margin-top: 25px; padding: 25px; background: rgba(0,0,0,0.2); border-radius: 12px; display: none;"></div>
    </div>

    <script>
      function gradeQuiz3() {
        const correct = {
          q1: 'b', q2: 'b', q3: 'a', q4: 'a',
          q5: 'b', q6: 'b', q7: 'a', q8: 'b'
        };
        let score = 0, total = 8;
        for(let i=1; i<=total; i++) {
          let ans = document.querySelector('input[name="q'+i+'"]:checked');
          if(ans && ans.value === correct['q'+i]) score++;
        }
        let msg = `ðŸ† You scored ${score} out of ${total}! `;
        if(score === total) msg += "SELLING MASTER! You're ready to close like a pro! ðŸ”¥";
        else if(score >= 7) msg += "Excellent! You've mastered advanced selling!";
        else if(score >= 5) msg += "Good effort! Review key techniques for mastery.";
        else msg += "Keep learning! Practice these techniques and try again.";

        const resultDiv = document.getElementById('quiz3-result');
        resultDiv.textContent = msg;
        resultDiv.style.display = 'block';
        resultDiv.scrollIntoView({ behavior: 'smooth', block: 'center' });
      }
    </script>

    <div id="lesson-completion">
      <button id="markComplete" class="btn" onclick="markLessonComplete()">Mark Lesson Complete</button>
      <a id="nextLessonBtn" href="lesson4.html" class="btn" style="display:none;">Continue to Lesson 4 â†’</a>
      <div id="completionMsg">ðŸŽ‰ Lesson 3 Complete! You're now equipped with advanced selling techniques that convert!</div>
    </div>

    <div class="dashboard-link">
      <a href="progress.html">ðŸ“Š View Your Progress â†’</a>
    </div>
  </div>

  <!-- âœ… FINAL: Completion & Progress Logic (updated) -->
  <script>
    const lessonNum = 3;
    const totalLessons = 8;

    function markLessonComplete() {
      // âœ… NEW: key used by course.html to unlock Kasi chapter
      localStorage.setItem('lesson_3_completed', 'true');

      // âœ… Keep your existing progress system
      let progress = JSON.parse(localStorage.getItem('retailProgress') || '{}');
      progress[`lesson${lessonNum}`] = true;
      localStorage.setItem('retailProgress', JSON.stringify(progress));

      document.getElementById('nextLessonBtn').style.display = 'inline-block';
      document.getElementById('markComplete').textContent = "âœ… Lesson Completed";
      document.getElementById('markComplete').disabled = true;
      document.getElementById('completionMsg').style.display = 'block';
      updateProgressBar();
    }

    function updateProgressBar() {
      let progress = JSON.parse(localStorage.getItem('retailProgress') || '{}');
      let completed = 0;
      for(let i=1; i<=totalLessons; i++) if(progress[`lesson${i}`]) completed++;
      let percent = Math.round((completed/totalLessons)*100);
      document.getElementById('progressBarFill').style.width = percent + '%';
      document.getElementById('progressText').textContent =
        `Lesson ${lessonNum} of ${totalLessons} â€¢ ${percent}% Complete`;
    }

    window.onload = function() {
      let progress = JSON.parse(localStorage.getItem('retailProgress') || '{}');

      // âœ… NEW: accept either completion system
      const done =
        progress[`lesson${lessonNum}`] === true ||
        localStorage.getItem('lesson_3_completed') === 'true';

      if(done) {
        document.getElementById('nextLessonBtn').style.display = 'inline-block';
        document.getElementById('markComplete').textContent = "âœ… Lesson Completed";
        document.getElementById('markComplete').disabled = true;
        document.getElementById('completionMsg').style.display = 'block';
      }

      updateProgressBar();
    };
  </script>
</body>
</html>