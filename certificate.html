<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Certificate of Completion | Ultimate Black Book</title>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800;900&family=Playfair+Display:wght@700;900&display=swap" rel="stylesheet">
    <style>
        body { font-family: 'Inter', sans-serif; margin: 0; padding: 0; background: #000000; color: #F5F5F5; line-height: 1.7; }
        header { background: linear-gradient(135deg, #000000 0%, #1a1a1a 100%); color: white; padding: 25px 40px; display: flex; justify-content: space-between; align-items: center; box-shadow: 0 4px 20px rgba(255, 215, 0, 0.2); border-bottom: 3px solid #FFD700;}
        header h1 { margin: 0; font-size: 24px; font-weight: 900; color: #FFD700; text-shadow: 0 0 10px rgba(255, 215, 0, 0.3); }
        nav a { color: #FFD700; margin-left: 25px; text-decoration: none; font-weight: 600; transition: opacity 0.3s ease; }
        nav a:hover { opacity: 0.7; }
        .container { max-width: 210mm; margin: auto; padding: 20px; text-align: center; }
        .certificate-container { 
            background: linear-gradient(135deg, #ffffff 0%, #f8f8f8 100%); 
            width: 210mm; 
            height: 297mm; 
            padding: 50px 40px; 
            border-radius: 20px; 
            border: 10px solid #FFD700; 
            box-shadow: 0 20px 80px rgba(255, 215, 0, 0.5); 
            margin: 30px auto; 
            position: relative;
            box-sizing: border-box;
        }
        .certificate-container::before { content: ''; position: absolute; top: 20px; left: 20px; right: 20px; bottom: 20px; border: 3px solid #FFD700; border-radius: 10px; pointer-events: none; }
        .cert-header { font-family: 'Playfair Display', serif; color: #000; font-size: 3em; font-weight: 900; margin-bottom: 20px; text-transform: uppercase; letter-spacing: 3px; }
        .cert-subheader { color: #666; font-size: 1.3em; margin-bottom: 40px; font-style: italic; }
        .cert-body { color: #333; font-size: 1.2em; line-height: 2; margin: 40px 0; }
        .cert-name { font-family: 'Playfair Display', serif; color: #FFD700; font-size: 3em; font-weight: 900; margin: 30px 0; text-decoration: underline; text-decoration-color: #FFD700; text-decoration-thickness: 3px; }
        .cert-course { color: #000; font-size: 1.5em; font-weight: 700; margin: 30px 0; }
        .cert-date { color: #666; font-size: 1.1em; margin: 30px 0; }
        .cert-number { position: absolute; bottom: 30px; left: 50px; color: #666; font-size: 0.9em; font-weight: 600; }
        .cert-signatures { display: grid; grid-template-columns: 1fr 1fr; gap: 50px; margin-top: 60px; }
        .signature { border-top: 3px solid #000; padding-top: 15px; }
        .signature-line { color: #000; font-weight: 700; font-size: 1.1em; }
        .signature-title { color: #666; font-size: 0.95em; margin-top: 5px; }
        .seal { width: 120px; height: 120px; border: 5px solid #FFD700; border-radius: 50%; display: flex; align-items: center; justify-content: center; font-size: 2.5em; background: linear-gradient(135deg, #FFD700, #FFA500); position: absolute; top: 30px; right: 50px; box-shadow: 0 5px 20px rgba(255, 215, 0, 0.5); }
        .qr-section { position: absolute; bottom: 30px; right: 50px; text-align: center; }
        .qr-label { font-size: 0.7em; color: #666; margin-top: 5px; }
        .controls { margin: 40px 0; }
        .btn { display: inline-block; background: linear-gradient(135deg, #FFD700 0%, #FFA500 100%); color: #000; padding: 18px 50px; text-decoration: none; border-radius: 50px; margin: 10px; font-weight: 900; font-size: 1.2em; transition: all 0.3s; box-shadow: 0 8px 30px rgba(255, 215, 0, 0.4); border: none; cursor: pointer; }
        .btn:hover { transform: translateY(-3px); box-shadow: 0 12px 40px rgba(255, 215, 0, 0.6); }
        .btn-secondary { background: linear-gradient(135deg, #2d2d2d 0%, #1a1a1a 100%); color: #FFD700; border: 2px solid #FFD700; }
        .input-group { margin: 30px auto; max-width: 500px; }
        .input-group label { display: block; color: #FFD700; font-weight: 700; margin-bottom: 10px; font-size: 1.2em; }
        .input-group input { width: 100%; padding: 15px; background: rgba(255, 255, 255, 0.1); border: 2px solid rgba(255, 215, 0, 0.5); border-radius: 10px; color: #F5F5F5; font-size: 1.1em; text-align: center; font-weight: 600; box-sizing: border-box; }
        .input-group input:focus { outline: none; border-color: #FFD700; box-shadow: 0 0 15px rgba(255, 215, 0, 0.5); }
        @media print {
            @page {
                size: A4;
                margin: 0;
            }
            header, .controls, .input-group { display: none; }
            body { background: white; margin: 0; padding: 0; }
            .container { padding: 0; margin: 0; max-width: 100%; }
            .certificate-container { 
                width: 210mm; 
                height: 297mm; 
                margin: 0;
                box-shadow: none;
                page-break-after: avoid;
            }
        }
        @media (max-width: 768px) {
            .certificate-container { padding: 40px 25px; }
            .cert-header { font-size: 2em; }
            .cert-name { font-size: 2em; }
            .cert-signatures { grid-template-columns: 1fr; gap: 30px; }
            .seal { width: 80px; height: 80px; font-size: 1.8em; top: 20px; right: 20px; }
            .qr-section { bottom: 20px; right: 20px; }
            .cert-number { bottom: 20px; left: 20px; font-size: 0.75em; }
        }
    </style>
</head>
<body>
    <header>
        <h1>‚ö´ THE ULTIMATE BLACK BOOK ‚ö´</h1>
        <a href="course.html">Home</a>
<a href="course.html#contact">Contact</a>
<a href="course.html#progress">View Progress</a>

            
    </header>
    
    <div class="container">
        <div class="input-group">
            <label for="studentName">Enter Your Full Name:</label>
            <input type="text" id="studentName" placeholder="John Doe" value="">
        </div>

        <div id="certificateDisplay" class="certificate-container">
            <div class="seal">üèÜ</div>
            
            <div class="cert-header">Certificate of Completion</div>
            <div class="cert-subheader">This certifies that</div>
            
            <div class="cert-name" id="displayName">Your Name Here</div>
            
            <div class="cert-body">
                has successfully completed all requirements and demonstrated mastery in
            </div>
            
            <div class="cert-course">
                THE ULTIMATE BLACK BOOK<br>
                Retail Excellence & Legendary Customer Service
            </div>
            
            <div class="cert-body" style="font-size: 1.1em; margin-top: 30px;">
                This comprehensive program covered advanced psychology, communication strategies,<br>
                conflict resolution, sales excellence, leadership, and commercial law.
            </div>
            
            <div class="cert-date" id="certDate">Completed: January 6, 2026</div>
            
            <div class="cert-signatures">
                <div class="signature">
                    <div class="signature-line">Course Director</div>
                    <div class="signature-title">Ultimate Black Book Academy</div>
                </div>
                <div class="signature">
                    <div class="signature-line">Chief Instructor</div>
                    <div class="signature-title">Retail Excellence Division</div>
                </div>
            </div>
            
            <div class="qr-section">
                <div id="qrcode"></div>
                <div class="qr-label">Scan to Verify</div>
            </div>
            
            <div class="cert-number" id="certNumber">Certificate No: UBB-XXXXX</div>
        </div>

        <div class="controls">
            <button onclick="updateCertificate()" class="btn">Update Certificate</button>
            <button onclick="window.print()" class="btn">üñ®Ô∏è Print Certificate</button>
            <button onclick="downloadCertificate()" class="btn btn-secondary">üì• Save as PDF</button>
        </div>

        <div style="margin: 40px 0;">
            <a href="progress.html" style="color: #FFD700; font-weight: 600; text-decoration: underline; font-size: 1.1em;">‚Üê Back to Progress</a>
        </div>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/qrcodejs@1.0.0/qrcode.min.js"></script>
    
    <script>
        /* ===============================
           CERTIFICATE GENERATION LOGIC
        ================================ */

        // Update certificate with name and generate all data
        function updateCertificate() {
            const name = document.getElementById('studentName').value.trim();
            
            if (!name) {
                alert('Please enter your name first!');
                return;
            }

            // 1. Update name
            document.getElementById('displayName').textContent = name;
            
            // 2. Save name to localStorage
            localStorage.setItem('studentName', name);
            
            // 3. Get completion date from Lesson 8 (or create if missing)
            let completionDate = localStorage.getItem('ubb_completion_date');
            if (!completionDate) {
                completionDate = new Date().toISOString();
                localStorage.setItem('ubb_completion_date', completionDate);
            }

            const dateObj = new Date(completionDate);
            document.getElementById('certDate').textContent =
                `Completed: ${dateObj.toLocaleDateString('en-US', {
                    year: 'numeric',
                    month: 'long',
                    day: 'numeric'
                })}`;

            // 4. Get certificate number from Lesson 8 (or create if missing)
            let certNumber = localStorage.getItem('ubb_cert_number');
            if (!certNumber) {
                certNumber = `UBB-${Date.now().toString(36).toUpperCase()}`;
                localStorage.setItem('ubb_cert_number', certNumber);
            }

            document.getElementById('certNumber').textContent =
                `Certificate No: ${certNumber}`;

            // 5. Generate QR code
            generateQRCode(name, certNumber, completionDate);
            
            alert('‚úÖ Certificate updated! You can now print or save it.');
        }

        // Generate QR code for verification
        function generateQRCode(name, certNumber, completionDate) {
            const qrContainer = document.getElementById('qrcode');
            qrContainer.innerHTML = ''; // Clear existing QR code

            const verifyPayload = JSON.stringify({
                cert: certNumber,
                name: name,
                date: completionDate,
                course: "The Ultimate Black Book - Retail Excellence"
            });

            new QRCode(qrContainer, {
                text: verifyPayload,
                width: 90,
                height: 90,
                colorDark: "#000000",
                colorLight: "#ffffff"
            });
        }

        // Download certificate as PDF
        function downloadCertificate() {
            const name = document.getElementById('studentName').value.trim();
            if (!name) {
                alert('Please enter your name and click "Update Certificate" first!');
                return;
            }
            
            alert('To save your certificate:\n\n1. Click "üñ®Ô∏è Print Certificate"\n2. Select "Save as PDF" as your printer\n3. Choose where to save your PDF certificate\n\nThis will give you a high-quality certificate you can share!');
        }

        // Load saved data on page load
        window.onload = function() {
            const savedName = localStorage.getItem('studentName');
            
            if (savedName) {
                // Pre-fill the name input
                document.getElementById('studentName').value = savedName;
                
                // Auto-populate the certificate
                document.getElementById('displayName').textContent = savedName;
                
                // Load completion date
                let completionDate = localStorage.getItem('ubb_completion_date');
                if (completionDate) {
                    const dateObj = new Date(completionDate);
                    document.getElementById('certDate').textContent =
                        `Completed: ${dateObj.toLocaleDateString('en-US', {
                            year: 'numeric',
                            month: 'long',
                            day: 'numeric'
                        })}`;
                }
                
                // Load certificate number
                let certNumber = localStorage.getItem('ubb_cert_number');
                if (certNumber) {
                    document.getElementById('certNumber').textContent =
                        `Certificate No: ${certNumber}`;
                }
                
                // Generate QR code
                if (completionDate && certNumber) {
                    generateQRCode(savedName, certNumber, completionDate);
                }
            }
        };

        // Update on Enter key
        document.getElementById('studentName').addEventListener('keypress', function(e) {
            if (e.key === 'Enter') {
                updateCertificate();
            }
        });
    </script>
</body>
</html>
